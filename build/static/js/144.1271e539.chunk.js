(this.webpackJsonpsleepwell=this.webpackJsonpsleepwell||[]).push([[144],{1364:function(e,t,c){"use strict";c.r(t);var s=c(25),n=c(638),a=c(1),j=c(637),r=c(815),l=c.n(r),o=c(656),b=c(655),d=c(648),i=c(18),u=c(641),O=c.n(u),h=c(13),x=c(639).default,p=b.b().shape({couponType:b.c().required(),productId:b.c().required(),couponCode:b.c().required(),value:b.c().required(),stateId:b.c().required()});t.default=function(){var e=Object(d.e)({mode:"all",resolver:Object(o.a)(p)}),t=e.register,c=e.control,r=e.handleSubmit,b=e.formState.errors,u=(Object(i.g)(),Object(a.useState)(null)),m=Object(n.a)(u,2),g=m[0],v=m[1],f=Object(a.useState)(!1),S=Object(n.a)(f,2),y=S[0],C=S[1],k=Object(a.useState)(!0),T=Object(n.a)(k,2),N=T[0],I=T[1],F=Object(a.useState)(""),w=Object(n.a)(F,2),K=w[0],L=w[1],q=Object(a.useState)(""),A=Object(n.a)(q,2),D=A[0],J=(A[1],Object(a.useState)("")),P=Object(n.a)(J,2),V=P[0],B=(P[1],Object(a.useState)("")),E=Object(n.a)(B,2),Q=E[0],z=E[1],G=Object(a.useState)(new Date),H=Object(n.a)(G,2),M=H[0],R=H[1],U=Object(a.useState)([]),W=Object(n.a)(U,2),X=W[0],Y=W[1],Z=Object(a.useState)([]),$=Object(n.a)(Z,2),_=$[0],ee=$[1],te=sessionStorage.getItem("token");Object(a.useEffect)((function(){x.get("http://markbran.in/apis/admin/state",{headers:{"auth-token":te}}).then((function(e){Y(e.data.states)})).catch((function(e){e.response&&e.response.data.message&&v(e.response.data.message)})),x.get("http://markbran.in/apis/admin/products",{headers:{"auth-token":te}}).then((function(e){ee(e.data.products)})).catch((function(e){e.response&&e.response.data.message?v(e.response.data.message):v("Something went wrong!")}))}),[]);return Object(h.jsx)("div",{children:Object(h.jsx)(j.ub,{children:Object(h.jsx)(j.u,{xs:"12",sm:"12",children:Object(h.jsxs)(j.j,{children:[Object(h.jsx)(j.n,{children:"Add Coupon"}),Object(h.jsx)(j.k,{children:Object(h.jsxs)(j.J,{onSubmit:r((function(e){var t=new FormData;t.append("status",N),t.append("title",e.categoryName),t.append("image",K),t.append("buttonText",D),t.append("buttonLink",V),t.append("description",Q),v(null),C(!0)})),children:[Object(h.jsx)("br",{}),g&&Object(h.jsx)("p",{className:"text-danger",children:g}),Object(h.jsxs)(j.ub,{children:[Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Select coupon type"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsxs)(j.vb,Object(s.a)(Object(s.a)({name:"couponType"},t("couponType")),{},{children:[Object(h.jsx)("option",{value:"",children:"Select coupon type"}),Object(h.jsx)("option",{value:"percentage",children:"Percentage"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.couponType&&b.couponType.message})]})}),Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Coupon Code"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsx)(d.a,{name:"couponCode",control:c,defaultValue:"",rules:{required:{value:!0,message:"Coupon code is required"}},render:function(e){var t=e.field;return Object(h.jsx)(j.Q,Object(s.a)(Object(s.a)({},t),{},{type:"text",placeholder:"Coupon code",autoComplete:"Coupon code"}))}})}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.couponCode&&b.couponCode.message})]})})]}),Object(h.jsxs)(j.ub,{children:[Object(h.jsxs)(j.u,{xs:"6",children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Image"}),Object(h.jsxs)(j.T,{className:"mb-3",children:[Object(h.jsx)(j.ab,{htmlFor:"image",variant:"custom-file",children:"Choose image..."}),Object(h.jsx)(j.S,{onChange:function(e){L(e.target.files[0])},custom:!0,id:"image",type:"file"})]})]}),Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Select product"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsxs)(j.vb,Object(s.a)(Object(s.a)({name:"productId"},t("productId")),{},{children:[Object(h.jsx)("option",{value:"",children:"Select product"}),_.map((function(e,t){return Object(h.jsx)("option",{value:e.id,children:e.title},t)}))]}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.productId&&b.productId.message})]})})]}),Object(h.jsxs)(j.ub,{children:[Object(h.jsx)(j.u,{xl:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"Button Text",children:"Value (Percentage/Amount)"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(j.Q,Object(s.a)(Object(s.a)({type:"text"},t("value")),{},{placeholder:"Value (Percentage/Amount)",autoComplete:"value"}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.value&&b.value.message})]})}),Object(h.jsx)(j.u,{xs:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Select state"}),Object(h.jsx)(j.T,{className:"mb-3",children:Object(h.jsxs)(j.vb,Object(s.a)(Object(s.a)({name:"stateId"},t("stateId")),{},{children:[Object(h.jsx)("option",{value:"",children:"Select state"}),X.map((function(e,t){return Object(h.jsx)("option",{value:e.id,children:e.state})}))]}))}),Object(h.jsx)(j.L,{className:"help-block text-danger",color:"red",children:b.stateId&&b.stateId.message})]})})]}),Object(h.jsxs)(j.ub,{children:[Object(h.jsx)(j.u,{xl:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Status"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(O.a,{onChange:function(e){I(e)},checked:N})})]})}),Object(h.jsx)(j.u,{xl:"6",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"Button Link",children:"Expiry Date"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(l.a,{onChange:function(e){R(e)},value:M})})]})})]}),Object(h.jsx)(j.ub,{children:Object(h.jsx)(j.u,{xl:"12",children:Object(h.jsxs)(j.K,{children:[Object(h.jsx)(j.ab,{htmlFor:"category",children:"Description"}),Object(h.jsx)(j.T,{children:Object(h.jsx)(j.Jb,{id:"content",rows:"3",onChange:function(e){z(e.target.value)},value:Q})})]})})}),Object(h.jsx)(j.ub,{children:Object(h.jsx)(j.u,{xs:"8",children:Object(h.jsx)("button",{className:"btn btn-success",disabled:!!y,type:"submit",children:y?"Loading...":"Add Coupon"})})})]})})]})})})})}}}]);
//# sourceMappingURL=144.1271e539.chunk.js.map